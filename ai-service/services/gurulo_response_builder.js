'use strict';

function buildResponse(message, telemetry = {}) {
  return {
    response: message,
    metadata: {
      telemetry,
    },
  };
}

function formatChecklist(items = []) {
  return items.map((item) => `Рђб ${item}`).join('\n');
}

function buildGreetingResponse() {
  return buildResponse(
    'рЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ! рЃЏрЃћ рЃЋрЃљрЃа Gurulo Рђћ ai.bakhmaro.co-рЃА AI рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃћрЃарЃБрЃџрЃў рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў. рЃЏрЃќрЃљрЃЊ рЃЋрЃљрЃа рЃЊрЃљрЃњрЃћрЃ«рЃЏрЃљрЃарЃЮ рЃЎрЃЮрЃЊрЃўрЃА рЃљрЃюрЃљрЃџрЃўрЃќрЃерЃў, рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃљрЃерЃў рЃЊрЃљ рЃърЃџрЃљрЃбрЃцрЃЮрЃарЃЏрЃўрЃА рЃЏрЃЮрЃюрЃўрЃбрЃЮрЃарЃўрЃюрЃњрЃерЃў.'
  );
}

function buildSmalltalkResponse() {
  return buildResponse('рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃЎрЃљрЃарЃњрЃўрЃљ! рЃЋрЃЏрЃБрЃерЃљрЃЮрЃЉ Gurulo-рЃА рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃћрЃарЃБрЃџ рЃњрЃљрЃарЃћрЃЏрЃЮрЃерЃў. рЃарЃљ рЃбрЃћрЃЦрЃюрЃўрЃЎрЃБрЃарЃў рЃАрЃљрЃЎрЃўрЃЌрЃ«рЃў рЃњрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃћрЃЉрЃА?');
}

function buildParamRequestResponse() {
  const checklist = formatChecklist([
    'рЃЏрЃЮрЃЏрЃљрЃгрЃЮрЃЊрЃћ рЃцрЃљрЃўрЃџрЃўрЃА рЃљрЃю рЃАрЃћрЃарЃЋрЃўрЃАрЃўрЃА рЃќрЃБрЃАрЃбрЃў рЃњрЃќрЃљ',
    'рЃЊрЃљрЃЏрЃўрЃгрЃћрЃарЃћ рЃарЃљ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљрЃљ рЃАрЃљрЃГрЃўрЃарЃЮ',
    'рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃћ рЃЊрЃљрЃЎрЃљрЃЋрЃерЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃџрЃЮрЃњрЃћрЃЉрЃў рЃљрЃю рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃў',
  ]);
  return buildResponse(`рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ! рЃћрЃцрЃћрЃЦрЃбрЃБрЃарЃў рЃърЃљрЃАрЃБрЃ«рЃўрЃАрЃЌрЃЋрЃўрЃА рЃЏрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃЊрЃћрЃбрЃљрЃџрЃћрЃЉрЃў:\n${checklist}`);
}

function buildAvailabilityResults() {
  const status = formatChecklist([
    'Automation queue Рђћ online',
    'Trusted Ops Рђћ рЃЏрЃќрЃљрЃЊ рЃљрЃарЃўрЃА рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА рЃњрЃљрЃАрЃљрЃерЃЋрЃћрЃЉрЃљрЃЊ',
    'Monitoring dashboards Рђћ рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўт«ъТЌХ рЃарЃћрЃЪрЃўрЃЏрЃерЃўрЃљ',
  ]);
  return buildResponse(`­ЪЏа№ИЈ **Automation Readiness**\n${status}`);
}

function buildPricingInfoResponse() {
  const info = formatChecklist([
    'AI compute usage рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃЊрЃћрЃЉрЃљ Groq metrics-рЃўрЃЌ',
    'OpenAI fallback рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў рЃћрЃарЃЌрЃЋрЃћрЃЉрЃљ',
    'Workspace scripts рЃўрЃДрЃћрЃюрЃћрЃЉрЃА pnpm-рЃА рЃЊрЃљ рЃњрЃљрЃќрЃўрЃљрЃарЃћрЃЉрЃБрЃџ cache-рЃА',
  ]);
  return buildResponse(`­ЪЊі **Resource & Cost Overview**\n${info}`);
}

function buildWeatherInfoResponse() {
  return buildResponse('рЃърЃџрЃљрЃбрЃцрЃЮрЃарЃЏрЃљ рЃљрЃа рЃљрЃЎрЃЋрЃўрЃарЃЊрЃћрЃЉрЃљ рЃљрЃЏрЃўрЃюрЃЊрЃА Рђћ рЃЏрЃћ рЃљрЃЦ рЃЋрЃљрЃа рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃћрЃарЃБрЃџрЃў рЃљрЃЏрЃЮрЃфрЃљрЃюрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА. рЃерЃћрЃЋрЃ«рЃћрЃЊрЃЮрЃЌ рЃЎрЃЮрЃЊрЃўрЃА рЃљрЃю рЃЏрЃЮрЃюрЃўрЃбрЃЮрЃарЃўрЃюрЃњрЃўрЃА рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃА.');
}

function buildTripPlanResponse() {
  const steps = formatChecklist([
    'рЃњрЃљрЃљрЃюрЃљрЃџрЃўрЃќрЃћ рЃарЃљ рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃА рЃљрЃю рЃАрЃћрЃарЃЋрЃўрЃАрЃА рЃћрЃ«рЃћрЃЉрЃљ рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљ',
    'рЃњрЃљрЃЏрЃЮрЃўрЃФрЃљрЃ«рЃћ рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃў Рђћ рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃљрЃЊ repository_automation_service рЃљрЃю system_watchdog',
    'рЃњрЃљрЃњрЃќрЃљрЃЋрЃюрЃћ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљ Trusted Ops-рЃўрЃА рЃЏрЃћрЃерЃЋрЃћрЃЮрЃЉрЃўрЃЌ рЃЊрЃљ рЃњрЃљрЃЊрЃљрЃљрЃЏрЃЮрЃгрЃЏрЃћ рЃџрЃЮрЃњрЃћрЃЉрЃў',
  ]);
  return buildResponse(`­ЪЌ║№ИЈ **рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃњрЃћрЃњрЃЏрЃљ**\n${steps}`);
}

function buildPoliciesFaqResponse() {
  const policies = formatChecklist([
    'Trusted Ops рЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃА рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮ рЃгрЃћрЃАрЃћрЃЉрЃўрЃЌ',
    'рЃДрЃЋрЃћрЃџрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃљ рЃџрЃЮрЃњрЃўрЃарЃЊрЃћрЃЉрЃљ рЃЊрЃљ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃњрЃљрЃБрЃЦрЃЏрЃЊрЃћрЃА',
    'AI рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃћрЃарЃБрЃџ рЃЎрЃЮрЃюрЃбрЃћрЃЦрЃАрЃбрЃА рЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃА рЃЊрЃљ рЃљрЃа рЃљрЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃћрЃЉрЃА рЃњрЃљрЃарЃћ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃўрЃА рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃА',
  ]);
  return buildResponse(`­ЪЊў **Workspace Policies**\n${policies}`);
}

function buildContactSupportResponse() {
  return buildResponse('рЃЌрЃБ рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃЏрЃ«рЃљрЃарЃЊрЃљрЃГрЃћрЃарЃљ рЃњрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ, рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћ #dev-ai рЃљрЃарЃ«рЃў рЃљрЃю рЃњрЃљрЃ«рЃАрЃћрЃюрЃў issue shared/gurulo-core рЃърЃарЃЮрЃфрЃћрЃАрЃўрЃЌ. рЃљрЃЦрЃЋрЃћ рЃерЃћрЃЏрЃўрЃФрЃџрЃўрЃљ рЃЊрЃљрЃњрЃћрЃ«рЃЏрЃљрЃарЃЮ рЃърЃўрЃарЃЋрЃћрЃџрЃљрЃЊрЃў рЃЊрЃўрЃљрЃњрЃюрЃЮрЃАрЃбрЃўрЃЎрЃўрЃЌ.');
}

function buildTransportResponse() {
  return buildResponse('рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃўрЃарЃћрЃЉрЃўрЃА рЃЌрЃћрЃЏрЃћрЃЉрЃў рЃљрЃдрЃљрЃа рЃљрЃарЃўрЃА рЃљрЃЦрЃбрЃБрЃљрЃџрЃБрЃарЃў. рЃњрЃљрЃЊрЃљрЃЋрЃўрЃюрЃљрЃфрЃЋрЃџрЃЮрЃЌ рЃЎрЃЮрЃЊрЃўрЃА, рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃљрЃю рЃЏрЃЮрЃюрЃўрЃбрЃЮрЃарЃўрЃюрЃњрЃўрЃА рЃАрЃљрЃЎрЃўрЃЌрЃ«рЃћрЃЉрЃќрЃћ.');
}

function buildLocalAttractionsResponse() {
  return buildResponse('рЃљрЃ«рЃџрЃљ рЃЋрЃцрЃЮрЃЎрЃБрЃАрЃўрЃарЃЊрЃћрЃЉрЃўрЃЌ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃћрЃарЃБрЃџ рЃњрЃљрЃарЃћрЃЏрЃЮрЃќрЃћ. рЃерЃћрЃЏрЃўрЃФрЃџрЃўрЃљ рЃњрЃљрЃњрЃўрЃќрЃўрЃљрЃарЃЮ рЃарЃћрЃћрЃърЃЮрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ, рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃўрЃА рЃАрЃбрЃљрЃбрЃБрЃАрЃў рЃЊрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃџрЃЮрЃЉрЃћрЃЉрЃў.');
}

function buildLegacyFeatureResponse() {
  return buildResponse('рЃћрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ рЃърЃџрЃљрЃбрЃцрЃЮрЃарЃЏрЃўрЃЊрЃљрЃю рЃљрЃЏрЃЮрЃдрЃћрЃЉрЃБрЃџрЃўрЃљ. рЃЏрЃЮрЃЊрЃў рЃњрЃљрЃЊрЃљрЃЋрЃ«рЃћрЃЊрЃЮрЃЌ рЃЎрЃЮрЃЊрЃўрЃА рЃцрЃљрЃўрЃџрЃћрЃЉрЃА, рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃљрЃА рЃљрЃю рЃЏрЃЮрЃюрЃўрЃбрЃЮрЃарЃўрЃюрЃњрЃўрЃА рЃерЃћрЃЊрЃћрЃњрЃћрЃЉрЃА.');
}

function buildOffTopicResponse() {
  const reminder = formatChecklist([
    'Gurulo рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃарЃЮрЃњрЃЮрЃарЃф рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃћрЃарЃБрЃџрЃў рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў',
    'рЃерЃћрЃЏрЃўрЃФрЃџрЃўрЃљ рЃњрЃљрЃњрЃўрЃќрЃўрЃљрЃарЃЮ рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ рЃЊрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљ',
    'рЃљрЃа рЃЋрЃцрЃљрЃарЃљрЃЋ рЃбрЃБрЃарЃўрЃАрЃбрЃБрЃџ рЃљрЃю рЃАрЃљрЃфрЃ«рЃЮрЃЋрЃарЃћрЃЉрЃћрЃџ рЃЌрЃћрЃЏрЃћрЃЉрЃА',
  ]);
  return buildResponse(`­ЪЎї рЃерЃћрЃЋрЃўрЃюрЃљрЃарЃЕрЃБрЃюрЃЮрЃЌ рЃАрЃљрЃБрЃЉрЃљрЃарЃў рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃћрЃарЃБрЃџ рЃАрЃљрЃЎрЃўрЃЌрЃ«рЃћрЃЉрЃќрЃћ:\n${reminder}`, {
    blocked_off_topic: true,
  });
}

module.exports = {
  buildGreetingResponse,
  buildSmalltalkResponse,
  buildParamRequestResponse,
  buildAvailabilityResults,
  buildPricingInfoResponse,
  buildWeatherInfoResponse,
  buildTripPlanResponse,
  buildPoliciesFaqResponse,
  buildContactSupportResponse,
  buildTransportResponse,
  buildLocalAttractionsResponse,
  buildLegacyFeatureResponse,
  buildOffTopicResponse,
};
