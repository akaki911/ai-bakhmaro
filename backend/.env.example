# ------------------------------------------------------------
# Backend service environment example
# Copy to backend/.env and replace CHANGE_ME placeholders with
# real credentials before starting the service.
# ------------------------------------------------------------
# Core runtime configuration
NODE_ENV=development
PORT=5002
BACKEND_HOST=0.0.0.0
FRONTEND_URL=http://localhost:5173
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5002
ALLOWED_ORIGINS_EXTRA=
DEPLOYMENT_URL=http://127.0.0.1:5001
DEBUG_LEVEL=info
DEV_TASKS_ENABLED=false
PACKAGE_MANAGER=npm
API_BASE=http://localhost:3001
# Sessions & authentication
SESSION_SECRET=r0SWjcufpr0O5bw4URntxj8HY54r5gP9c0Qrj/yCyHu1stSC3sRAiU1ZxVoJ7AkF31hiHuU4i3pTFgua+ECv1A==
SESSION_STORE=memory
SESSION_TTL_HOURS=8
SESSION_IDLE_TIMEOUT=120
FIRESTORE_SESSION_COLLECTION=express-sessions
COOKIE_DOMAIN=
ADMIN_SETUP_TOKEN=admin-setup-bakhmaro-2024-secure-token-for-initial-configuration
ADMIN_ALLOWED_PERSONAL_ID=01019062020
AI_SERVICE_TOKEN=8b0f0a9c5c9a4e91c2f3e0b1a7d4f6c98e1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d
# AI microservice connectivity
AI_SERVICE_URL=http://127.0.0.1:5001
AI_SERVICE_SECRET=8b0f0a9c5c9a4e91c2f3e0b1a7d4f6c98e1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d
AI_INTERNAL_TOKEN=bakhmaro-ai-service-internal-token-dev-2024-secure-256bit-key-for-production
GROQ_API_KEY=
OPENAI_API_KEY=
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
# Observability
JAEGER_ENDPOINT=http://localhost:14268/api/traces
BACKEND_METRICS_PORT=9092
# Activity logging & rate limiting
ENABLE_ACTIVITY_PERSIST=0
ACTIVITY_HMAC_SECRET=fa5bae42c2938cff96b5e6abcfb99ef05bb43decda0e1a67c30e6b22fc0427d8
ACTIVITY_HMAC_MAX_SKEW_MS=60000
ACTIVITY_ROTATE_MB=10
ACTIVITY_HEARTBEAT_MS=25000
DEV_BYPASS_RATE_LIMIT=false
# Security
ENABLE_SECURITY_LOGGING=false
ALLOWED_USER_AGENTS=Chrome,Firefox,Safari,Edge
IP_WHITELIST_ENABLED=false
IP_WHITELIST=127.0.0.1/32
AUDIT_HASH_SECRET=CHANGE_ME_AUDIT_SALT
# Notifications
NOTIFICATION_EMAIL_ENABLED=false
NOTIFICATION_EMAIL_RECIPIENTS=
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
NOTIFICATION_WEBHOOKS_ENABLED=false
NOTIFICATION_WEBHOOK_URLS=
NOTIFICATION_WEBHOOK_SECRET=T=f_CW2c4+E#JypQD$Jg
NOTIFICATION_WEBHOOK_TIMEOUT=10000
NOTIFICATION_EVENTS=proposal_created,applied,smoke_failed,rollback_done
NOTIFICATION_RATE_LIMIT=100
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_BACKOFF=5000
# Device fingerprints & rollout strategy
DEVICE_FINGERPRINT_SALT=9b7d8e9aa431ff0ab162a6ebb3c4dc4c5f2e32a7f9d0b8a6c3d15d96f7e04b2e
AI_ROLLOUT=blue
AI_ROLLOUT_PERCENTAGE=100
AI_ROLLOUT_USER_GROUPS=
# WebAuthn relying party configuration
WEBAPP_RP_NAME=Bakhmaro Cottages
RP_ID=8a86230f-bdaa-4bf6-8537-6c616afaf6c5-00-z01kmwi5h06a.riker.replit.dev
ORIGIN=https://8a86230f-bdaa-4bf6-8537-6c616afaf6c5-00-z01kmwi5h06a.riker.replit.dev
# GitHub integration
GITHUB_INTEGRATION_ENABLED=false
GITHUB_OAUTH_URL=https://github.com/login/oauth/authorize
# Firebase Admin credentials (JSON strings)
FIREBASE_PROJECT_ID=bakhmaro-cottages
FIREBASE_ADMIN_KEY=
FIREBASE_SERVICE_ACCOUNT_KEY=
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-fbsvc@bakhmaro-cottages.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nCHANGE_ME\n-----END PRIVATE KEY-----\n"
# Replit / deployment specific overrides (optional)
REPLIT_DEV_DOMAIN=https://8a86230f-bdaa-4bf6-8537-6c616afaf6c5-00-z01kmwi5h06a.riker.replit.dev/
REPLIT_DOMAIN=
REPLIT_DOMAINS=
REPLIT_CLUSTER=
SECRETS_ENC_KEY=your_32_byte_base64_encryption_key
