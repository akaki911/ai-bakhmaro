# ==========================================================
# üß± BACKEND SERVICE ENVIRONMENT (example/backend)
# Copy to backend/.env or backend/.env.production
# Replace CHANGE_ME placeholders with real credentials.
# ==========================================================

# ==========================================================
# ‚öôÔ∏è CORE RUNTIME CONFIGURATION
# ==========================================================
NODE_ENV=production
PORT=5002
BACKEND_HOST=0.0.0.0
FRONTEND_URL=https://app.example.local
PUBLIC_FRONTEND_ORIGIN=https://app.example.local
AI_DOMAIN=app.example.local
ALLOWED_ORIGINS=https://app.example.local,https://api.example.local,https://backend.ai.bakhmaro.co
ALLOWED_ORIGINS_EXTRA=
CORS_ALLOWED_ORIGIN=https://app.example.local,https://backend.example.local,https://backend.ai.bakhmaro.co
DEPLOYMENT_URL=https://app.example.local
AI_HEALTH_TIMEOUT_MS=7500
DEBUG_LEVEL=info
DISABLE_EXPRESS_LISTEN=false
DISABLE_AI_PROXY_ROUTES=false
DEV_TASKS_ENABLED=false
PACKAGE_MANAGER=npm
API_BASE=https://api.example.local
PROPERTY_API_URL=https://api.example.local/property
PROPERTY_INTERNAL_TOKEN=example_property_internal_token_abc123def456
METADATA_SERVER_DETECTION=auto

# ==========================================================
# üîê SESSIONS & AUTHENTICATION
# ==========================================================
SESSION_SECRET=__REPLACE_ME_SESSION_SECRET__
SESSION_STORE=firestore
SESSION_TTL_HOURS=8
SESSION_IDLE_TIMEOUT=120
FIRESTORE_SESSION_COLLECTION=express-sessions
COOKIE_DOMAIN=.example.local
ADMIN_SETUP_TOKEN=__REPLACE_ME_ADMIN_SETUP_TOKEN__
ADMIN_ALLOWED_PERSONAL_ID=__REPLACE_ME_ADMIN_ALLOWED_PERSONAL_ID__
SUPER_ADMIN_IDS=__REPLACE_ME_SUPER_ADMIN_IDS__
SUPER_ADMIN_DISPLAY_NAME=Example Admin
SUPER_ADMIN_EMAIL=__REPLACE_ME_SUPER_ADMIN_EMAIL__
SUPER_ADMIN_USER_ID=example-super-admin-uid
AI_SERVICE_TOKEN=__REPLACE_ME_AI_SERVICE_TOKEN__
JWT_SECRET=__REPLACE_ME_JWT_SECRET__
JWT_EXPIRES_IN=900
JWT_REFRESH_EXPIRES_IN=1209600

# ==========================================================
# ü§ñ AI MICROSERVICE CONNECTIVITY
# ==========================================================
AI_SERVICE_URL=https://api.example.local/api/ai
AI_INTERNAL_TOKEN=__REPLACE_ME_AI_INTERNAL_TOKEN__
INTERNAL_SERVICE_TOKEN=__REPLACE_ME_INTERNAL_SERVICE_TOKEN__
GROQ_API_KEY=__REPLACE_ME_GROQ_API_KEY__
OPENAI_API_KEY=__REPLACE_ME_OPENAI_API_KEY__
CACHE_TTL=3600000
CACHE_MAX_SIZE=1000
AI_MEMORY_ENABLED=true
AI_PROXY_STREAMING_MODE=chunked
ALLOW_ANONYMOUS_AI_CHAT=false

# ==========================================================
# üß† ADVANCED AI GOVERNANCE & WORKFLOWS
# ==========================================================
AI_AUTHORIZED_PERSONAL_IDS=00000000001,00000000002
AI_PANEL_TOKEN=example_ai_panel_token_0f2d3c4a5b6d7e8f9a0b1c2d3e4f5a6b
TEST_SERVICE_KEY=example_test_service_key_2025
ALT_FRONTEND_URL=https://staging.example.local
AI_SMART_ROUTING=true
AI_SMART_ROUTING_COMPLEX_FILES=**/*.sql,**/*.ipynb,docs/architecture/*.md
AI_SMART_ROUTING_COMPLEX_RISK_LEVELS=high,critical
AI_HITL_APPROVALS=true
AI_FEEDBACK_LOOP=true
ASSISTANT_MODE=hybrid
AI_KPI_IMPROVEMENT_THRESHOLD=5
AI_KPI_REGRESSION_THRESHOLD=3
AI_KPI_SEVERE_REGRESSION_THRESHOLD=8
CI_SECRETS_CHECK_TOKEN=example_ci_secrets_check_token_2025
ENABLE_METADATA=true
ENABLE_AI_ROLLOUT_PROXY=false
AI_ROLLOUT=blue
AI_ROLLOUT_PERCENTAGE=100
AI_ROLLOUT_USER_GROUPS=

# ==========================================================
# üìä OBSERVABILITY & MONITORING
# ==========================================================
JAEGER_ENDPOINT=https://observability.example.local/jaeger/api/traces
BACKEND_METRICS_PORT=9092
LOG_FORMAT=combined

# ==========================================================
# ü™µ ACTIVITY LOGGING & RATE LIMITING
# ==========================================================
ENABLE_ACTIVITY_PERSIST=1
ACTIVITY_HMAC_SECRET=__REPLACE_ME_ACTIVITY_HMAC_SECRET__
ACTIVITY_HMAC_MAX_SKEW_MS=60000
ACTIVITY_ROTATE_MB=10
ACTIVITY_HEARTBEAT_MS=25000
DEV_BYPASS_RATE_LIMIT=false

# ==========================================================
# üõ°Ô∏è SECURITY CONTROLS
# ==========================================================
ENABLE_SECURITY_LOGGING=true
ALLOWED_USER_AGENTS=Chrome,Firefox,Safari,Edge
IP_WHITELIST_ENABLED=false
IP_WHITELIST=127.0.0.1/32
AUDIT_HASH_SECRET=__REPLACE_ME_AUDIT_HASH_SECRET__
SECRETS_ENC_KEY=__REPLACE_ME_SECRETS_ENC_KEY__

# ==========================================================
# üìß NOTIFICATIONS
# ==========================================================
NOTIFICATION_EMAIL_ENABLED=false
NOTIFICATION_EMAIL_RECIPIENTS=alerts@example.local
SMTP_HOST=__REPLACE_ME_SMTP_HOST__
SMTP_PORT=__REPLACE_ME_SMTP_PORT__
SMTP_USER=__REPLACE_ME_SMTP_USER__
SMTP_PASS=__REPLACE_ME_SMTP_PASS__
NOTIFICATION_WEBHOOKS_ENABLED=false
NOTIFICATION_WEBHOOK_URLS=
NOTIFICATION_WEBHOOK_SECRET=__REPLACE_ME_NOTIFICATION_WEBHOOK_SECRET__
NOTIFICATION_WEBHOOK_TIMEOUT=10000
NOTIFICATION_EVENTS=proposal_created,applied,smoke_failed,rollback_done
NOTIFICATION_RATE_LIMIT=100
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_BACKOFF=5000

# ==========================================================
# üíª DEVICE FINGERPRINTS & ROLLOUT STRATEGY
# ==========================================================
DEVICE_FINGERPRINT_SALT=__REPLACE_ME_DEVICE_FINGERPRINT_SALT__

# ==========================================================
# üîê WEBAUTHN RELYING PARTY CONFIGURATION
# ==========================================================
WEBAPP_RP_NAME=Example AI Space
RP_ID=app.example.local
ORIGIN=https://app.example.local

# ==========================================================
# üß† MEMORY STORAGE PATHS
# ==========================================================
MEMORY_STORAGE_PATH=./memory/storage
MEMORY_FACTS_PATH=./memory/facts
GRAMMAR_STORAGE_PATH=./memory/grammar

# ==========================================================
# üß© GITHUB INTEGRATION
# ==========================================================
GITHUB_INTEGRATION_ENABLED=false
GITHUB_OAUTH_URL=https://github.com/login/oauth/authorize
GITHUB_TOKEN=__REPLACE_ME_GITHUB_TOKEN__
GITHUB_REPO_OWNER=example-owner
GITHUB_REPO_NAME=example-repo
GITHUB_REPO_URL=https://github.com/example-owner/example-repo
GITHUB_WEBHOOK_SECRET=__REPLACE_ME_GITHUB_WEBHOOK_SECRET__
GITHUB_STATE_COLLECTION=github-state
GITHUB_FEEDBACK_COLLECTION=github-feedback
GITHUB_OWNER=example-owner
GITHUB_REPO=example-repo
GITHUB_AUTOMATION_WEBHOOK_URL=https://hooks.example.local/github
GITHUB_AUTOMATION_DESCRIPTION=Example automation webhook
GITHUB_AUTOMATION_HOMEPAGE=https://app.example.local
GITHUB_AUTOMATION_TOPICS=ai,assistant,automation
GITHUB_AUTOMATION_COLLABORATOR=example-automation-bot
GITHUB_AUTOMATION_COLLABORATOR_PERMISSION=maintain
GITHUB_OPERATIONS_ALLOWLIST=apps/**,docs/**
GITHUB_OPERATIONS_DENYLIST=secrets/**,tmp/**
GITHUB_OPERATIONS_BASE_BRANCH=main
GITHUB_SYNC_POLLING_INTERVAL_MS=30000
GITHUB_SANDBOX_OWNER=example-owner
GITHUB_SANDBOX_REPO=example-repo-sandbox
GITHUB_SANDBOX_BASE_BRANCH=main

# ==========================================================
# üî• FIREBASE ADMIN CREDENTIALS
# ==========================================================
FIREBASE_PROJECT_ID=__REPLACE_ME_FIREBASE_PROJECT_ID__
FIREBASE_ADMIN_KEY=__REPLACE_ME_FIREBASE_ADMIN_KEY__
FIREBASE_SERVICE_ACCOUNT_KEY=__REPLACE_ME_FIREBASE_SERVICE_ACCOUNT_KEY__
FIREBASE_CLIENT_EMAIL=__REPLACE_ME_FIREBASE_CLIENT_EMAIL__
FIREBASE_PRIVATE_KEY=__REPLACE_ME_FIREBASE_PRIVATE_KEY__
FIREBASE_ADMIN_USING_STUB=false
FIREBASE_USE_LOCAL_STUB=false
FIREBASE_STUB_STORAGE_PATH=./firebase-stubs
FIREBASE_ADMIN_DISABLED=0
FB_ADMIN_STATE=active

# ==========================================================
# üß≠ DEPLOYMENT / REPLIT (OPTIONAL)
# ==========================================================
REPLIT_DEV_DOMAIN=
REPLIT_DOMAIN=
REPLIT_DOMAINS=
REPLIT_CLUSTER=
REPLIT_URL=

# ==========================================================
# üßæ GIT METADATA (OPTIONAL)
# ==========================================================
GIT_COMMIT_NAME=Example AI Space Bot
GIT_COMMIT_EMAIL=bot@app.example.local

# ==========================================================
# üì¶ BUILD METADATA (OPTIONAL)
# ==========================================================
BUILD_TIME=2025-01-01T00:00:00Z
DEPLOY_TIME=2025-01-01T00:00:00Z
VERCEL_BUILD_TIME=2025-01-01T00:00:00Z