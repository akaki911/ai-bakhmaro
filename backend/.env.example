# ------------------------------------------------------------
# Backend service environment example
# Copy to backend/.env and replace CHANGE_ME placeholders with
# real credentials before starting the service.
# ------------------------------------------------------------
# Core runtime configuration
NODE_ENV=development
PORT=5002
BACKEND_HOST=0.0.0.0
FRONTEND_URL=http://localhost:5173
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5002
ALLOWED_ORIGINS_EXTRA=
DEPLOYMENT_URL=http://127.0.0.1:5001
DEBUG_LEVEL=info
DEV_TASKS_ENABLED=false
PACKAGE_MANAGER=npm
API_BASE=http://localhost:3001
# Sessions & authentication
SESSION_SECRET=i88ig9svOrWTrEc6BaLgr295huRCiClEOXxXT43m4abJp-PFF-j29qK6_6FeZqJfSx7alCNExnQx-1vN6NxvqA
SESSION_STORE=memory
SESSION_TTL_HOURS=8
SESSION_IDLE_TIMEOUT=120
FIRESTORE_SESSION_COLLECTION=express-sessions
COOKIE_DOMAIN=
ADMIN_SETUP_TOKEN=95d42102534d9d66e708b0db66a8ee5b4819e58a11902a95
ADMIN_ALLOWED_PERSONAL_ID=01019062020
AI_SERVICE_TOKEN=8b0f0a9c5c9a4e91c2f3e0b1a7d4f6c98e1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d
# AI microservice connectivity
AI_SERVICE_URL=http://127.0.0.1:5001
AI_SERVICE_SECRET=8b0f0a9c5c9a4e91c2f3e0b1a7d4f6c98e1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d
AI_INTERNAL_TOKEN=v5z-OV4pVkiqpsV_AoghNbXUW5gAHtd7ufI1zs6e_UIL7boBfpXV-9gBUVtcHvhW
GROQ_API_KEY=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
OPENAI_API_KEY=
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
# Observability
JAEGER_ENDPOINT=http://localhost:14268/api/traces
BACKEND_METRICS_PORT=9092
# Activity logging & rate limiting
ENABLE_ACTIVITY_PERSIST=0
ACTIVITY_HMAC_SECRET=fa5bae42c2938cff96b5e6abcfb99ef05bb43decda0e1a67c30e6b22fc0427d8
ACTIVITY_HMAC_MAX_SKEW_MS=60000
ACTIVITY_ROTATE_MB=10
ACTIVITY_HEARTBEAT_MS=25000
DEV_BYPASS_RATE_LIMIT=false
# Security
ENABLE_SECURITY_LOGGING=false
ALLOWED_USER_AGENTS=Chrome,Firefox,Safari,Edge
IP_WHITELIST_ENABLED=false
IP_WHITELIST=127.0.0.1/32
AUDIT_HASH_SECRET=CHANGE_ME_AUDIT_SALT
# Notifications
NOTIFICATION_EMAIL_ENABLED=false
NOTIFICATION_EMAIL_RECIPIENTS=
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
NOTIFICATION_WEBHOOKS_ENABLED=false
NOTIFICATION_WEBHOOK_URLS=
NOTIFICATION_WEBHOOK_SECRET=T=f_CW2c4+E#JypQD$Jg
NOTIFICATION_WEBHOOK_TIMEOUT=10000
NOTIFICATION_EVENTS=proposal_created,applied,smoke_failed,rollback_done
NOTIFICATION_RATE_LIMIT=100
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_BACKOFF=5000
# Device fingerprints & rollout strategy
DEVICE_FINGERPRINT_SALT=9b7d8e9aa431ff0ab162a6ebb3c4dc4c5f2e32a7f9d0b8a6c3d15d96f7e04b2e
AI_ROLLOUT=blue
AI_ROLLOUT_PERCENTAGE=100
AI_ROLLOUT_USER_GROUPS=
# WebAuthn relying party configuration
WEBAPP_RP_NAME=Bakhmaro Cottages
RP_ID=ai-bakhmaro.firebaseapp.com
ORIGIN=https://ai-bakhmaro.firebaseapp.com
# GitHub integration
GITHUB_INTEGRATION_ENABLED=false
GITHUB_OAUTH_URL=https://github.com/login/oauth/authorize
# Firebase Admin credentials (JSON strings)
FIREBASE_PROJECT_ID=ai-bakhmaro
FIREBASE_ADMIN_KEY={"type":"service_account","project_id":"ai-bakhmaro","private_key_id":"9a3269ca34d0844df018c44211cc771b6fe38a31","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCegdTf+4GhO+iC\\norwPz5RpQlCviGADDZjVRgdxlUtSC+deJyMQ3ZqH9TT4i0eLRQNOccGPT6sKFbYx\\nkdbEasKlV7JQXd1M7Q5G3mHLWjin69AJV8GjZDwTaTR9YGrGA3yYPjK0EPn3IAo6\\nYibY+k92hWLEx5iDx+71XmXRlI/4+F88e8+n2PSGJZv/xXt79uF9oWq3tTA0kl9D\\nXArKfxKDVr8VIc1iO5zXhrw7upsUZtm7tmw/pA1dbfb4ypfxCt4uHpaIoM2FdzL3\\nxsjsvvIXcQCp+RP+bSVJkFoEVNhA2jEc2KXWF8mm5LRN6txm2pd+IS8DyVTjIrCx\\nDptLlqYnAgMBAAECggEAQV20PnwXHLk6bOkUWgbWIsRMxt6cDZZFYSpkdnRFX/v1\\nuY+1N8bTa970rcyuP+JBd0+VLXcCx4FlpbKJWW3XgF0WdWsIEKmv2gzqUnSN6b3n\\nCHtOqQV0euLHWS7ySV91ucjomvZnRwDJBwOkFpW/QFbIgPL409uXEUwQ/CliaB7K\\n0UsgnyiXc5zhhlM8nyEDyA0tkM7JTBBa6nWcl39iKu/PPCb8qbTMFmgXm+JU9dIT\\nMOZL2GGgTirImfvt9rDJAFg9EmxuUw+9rYofG2j9uRrEm0WRnLL09zQZq+nfZ9Cc\\nMcgfqNF9ci3TSD8Iv5NfK+DkLaf80VwGZ5bWVE1XHQKBgQDREa8lr+mA7mKH+iBz\\nbXHSNAxsDt295Z99cudX/O/jEEjHdNAI7s8Lon+S/4YY94s9+7L/pcwree42hD4u\\nbQwkRX0Yq/qODaKlM0dOCT6K7aNiufsjAuNHWCE+HEqzwRzhc3fOsRMXToZLEFYy\\nfssmx0IEUfcjBj/LctDozLHNLQKBgQDCFpFBVNAWjOO5CPeHrAgL8qbDcvSqzoEm\\nVnt2Cuf53fLJBMsi4JPCpTDu6kfe8YR85QfiIBowzatm3C26jIvJ9UYfra56FjbN\\nP1vc/K/rP0zm9BPaAo6JAl1rv1BEUaqpDTnvGHdegVo0sC1MbKkIvso2uU1ydIJR\\nvvTLnB+dIwKBgBOpGRJvN4MzZ7qnz/Nq4GBHGr/yqfGYrWXrr0u78ock2eM/3exp\\nILlUX7DgLKkeZk6+47dczRVtkvQ3fW16PcEPc9MlIRvItnnYl6UEA4inDk1TdgV1\\n2Q+1fvLLUE8VIvUkmairSENR1BktAR4ghFQyOsgTOS1nAgrM0k6CKVpFAoGAY7U8\\nQhfUHwGaK4DTyTszlw+9ZEM2NlmIN63OF0JbEh5Xj7WKtgwxXJmInfR1n67rpU3z\\n0tMzIUdHerw6Mc/qMIJ01+ld7RJkbOTTyJ93sJ8AXtWdLS6LEw/H9oZ+MdrSla5Z\\nyN8E0+QX92FapBxeakO5lotzog0AtgYntEIsa4kCgYBKafBvWaUhkQFd6iBwC2Ey\\neOw6h8WmoH5fSf7P7gxm1ab0l2cqJH5zOcCU2deHIUt64xXVjJF5f1iUq+DRbG2t\\nwRTESJ/bPai6PEwYSGf+YLuWNtfhf3euaJGiltb/411BOaMwvmWsIlHYZkOr79wR\\nZjvANzRbRj8zarjarXdl6w==\\n-----END PRIVATE KEY-----\\n","client_email":"firebase-adminsdk-fbsvc@ai-bakhmaro.iam.gserviceaccount.com","client_id":"111952821343021998729","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40ai-bakhmaro.iam.gserviceaccount.com","universe_domain":"googleapis.com"}
FIREBASE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"ai-bakhmaro","private_key_id":"9a3269ca34d0844df018c44211cc771b6fe38a31","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCegdTf+4GhO+iC\\norwPz5RpQlCviGADDZjVRgdxlUtSC+deJyMQ3ZqH9TT4i0eLRQNOccGPT6sKFbYx\\nkdbEasKlV7JQXd1M7Q5G3mHLWjin69AJV8GjZDwTaTR9YGrGA3yYPjK0EPn3IAo6\\nYibY+k92hWLEx5iDx+71XmXRlI/4+F88e8+n2PSGJZv/xXt79uF9oWq3tTA0kl9D\\nXArKfxKDVr8VIc1iO5zXhrw7upsUZtm7tmw/pA1dbfb4ypfxCt4uHpaIoM2FdzL3\\nxsjsvvIXcQCp+RP+bSVJkFoEVNhA2jEc2KXWF8mm5LRN6txm2pd+IS8DyVTjIrCx\\nDptLlqYnAgMBAAECggEAQV20PnwXHLk6bOkUWgbWIsRMxt6cDZZFYSpkdnRFX/v1\\nuY+1N8bTa970rcyuP+JBd0+VLXcCx4FlpbKJWW3XgF0WdWsIEKmv2gzqUnSN6b3n\\nCHtOqQV0euLHWS7ySV91ucjomvZnRwDJBwOkFpW/QFbIgPL409uXEUwQ/CliaB7K\\n0UsgnyiXc5zhhlM8nyEDyA0tkM7JTBBa6nWcl39iKu/PPCb8qbTMFmgXm+JU9dIT\\nMOZL2GGgTirImfvt9rDJAFg9EmxuUw+9rYofG2j9uRrEm0WRnLL09zQZq+nfZ9Cc\\nMcgfqNF9ci3TSD8Iv5NfK+DkLaf80VwGZ5bWVE1XHQKBgQDREa8lr+mA7mKH+iBz\\nbXHSNAxsDt295Z99cudX/O/jEEjHdNAI7s8Lon+S/4YY94s9+7L/pcwree42hD4u\\nbQwkRX0Yq/qODaKlM0dOCT6K7aNiufsjAuNHWCE+HEqzwRzhc3fOsRMXToZLEFYy\\nfssmx0IEUfcjBj/LctDozLHNLQKBgQDCFpFBVNAWjOO5CPeHrAgL8qbDcvSqzoEm\\nVnt2Cuf53fLJBMsi4JPCpTDu6kfe8YR85QfiIBowzatm3C26jIvJ9UYfra56FjbN\\nP1vc/K/rP0zm9BPaAo6JAl1rv1BEUaqpDTnvGHdegVo0sC1MbKkIvso2uU1ydIJR\\nvvTLnB+dIwKBgBOpGRJvN4MzZ7qnz/Nq4GBHGr/yqfGYrWXrr0u78ock2eM/3exp\\nILlUX7DgLKkeZk6+47dczRVtkvQ3fW16PcEPc9MlIRvItnnYl6UEA4inDk1TdgV1\\n2Q+1fvLLUE8VIvUkmairSENR1BktAR4ghFQyOsgTOS1nAgrM0k6CKVpFAoGAY7U8\\nQhfUHwGaK4DTyTszlw+9ZEM2NlmIN63OF0JbEh5Xj7WKtgwxXJmInfR1n67rpU3z\\n0tMzIUdHerw6Mc/qMIJ01+ld7RJkbOTTyJ93sJ8AXtWdLS6LEw/H9oZ+MdrSla5Z\\nyN8E0+QX92FapBxeakO5lotzog0AtgYntEIsa4kCgYBKafBvWaUhkQFd6iBwC2Ey\\neOw6h8WmoH5fSf7P7gxm1ab0l2cqJH5zOcCU2deHIUt64xXVjJF5f1iUq+DRbG2t\\nwRTESJ/bPai6PEwYSGf+YLuWNtfhf3euaJGiltb/411BOaMwvmWsIlHYZkOr79wR\\nZjvANzRbRj8zarjarXdl6w==\\n-----END PRIVATE KEY-----\\n","client_email":"firebase-adminsdk-fbsvc@ai-bakhmaro.iam.gserviceaccount.com","client_id":"111952821343021998729","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40ai-bakhmaro.iam.gserviceaccount.com","universe_domain":"googleapis.com"}
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-fbsvc@ai-bakhmaro.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCegdTf+4GhO+iC\norwPz5RpQlCviGADDZjVRgdxlUtSC+deJyMQ3ZqH9TT4i0eLRQNOccGPT6sKFbYx\nkdbEasKlV7JQXd1M7Q5G3mHLWjin69AJV8GjZDwTaTR9YGrGA3yYPjK0EPn3IAo6\nYibY+k92hWLEx5iDx+71XmXRlI/4+F88e8+n2PSGJZv/xXt79uF9oWq3tTA0kl9D\nXArKfxKDVr8VIc1iO5zXhrw7upsUZtm7tmw/pA1dbfb4ypfxCt4uHpaIoM2FdzL3\nxsjsvvIXcQCp+RP+bSVJkFoEVNhA2jEc2KXWF8mm5LRN6txm2pd+IS8DyVTjIrCx\nDptLlqYnAgMBAAECggEAQV20PnwXHLk6bOkUWgbWIsRMxt6cDZZFYSpkdnRFX/v1\nuY+1N8bTa970rcyuP+JBd0+VLXcCx4FlpbKJWW3XgF0WdWsIEKmv2gzqUnSN6b3n\nCHtOqQV0euLHWS7ySV91ucjomvZnRwDJBwOkFpW/QFbIgPL409uXEUwQ/CliaB7K\n0UsgnyiXc5zhhlM8nyEDyA0tkM7JTBBa6nWcl39iKu/PPCb8qbTMFmgXm+JU9dIT\nMOZL2GGgTirImfvt9rDJAFg9EmxuUw+9rYofG2j9uRrEm0WRnLL09zQZq+nfZ9Cc\nMcgfqNF9ci3TSD8Iv5NfK+DkLaf80VwGZ5bWVE1XHQKBgQDREa8lr+mA7mKH+iBz\nbXHSNAxsDt295Z99cudX/O/jEEjHdNAI7s8Lon+S/4YY94s9+7L/pcwree42hD4u\nbQwkRX0Yq/qODaKlM0dOCT6K7aNiufsjAuNHWCE+HEqzwRzhc3fOsRMXToZLEFYy\nfssmx0IEUfcjBj/LctDozLHNLQKBgQDCFpFBVNAWjOO5CPeHrAgL8qbDcvSqzoEm\nVnt2Cuf53fLJBMsi4JPCpTDu6kfe8YR85QfiIBowzatm3C26jIvJ9UYfra56FjbN\nP1vc/K/rP0zm9BPaAo6JAl1rv1BEUaqpDTnvGHdegVo0sC1MbKkIvso2uU1ydIJR\nvvTLnB+dIwKBgBOpGRJvN4MzZ7qnz/Nq4GBHGr/yqfGYrWXrr0u78ock2eM/3exp\nILlUX7DgLKkeZk6+47dczRVtkvQ3fW16PcEPc9MlIRvItnnYl6UEA4inDk1TdgV1\n2Q+1fvLLUE8VIvUkmairSENR1BktAR4ghFQyOsgTOS1nAgrM0k6CKVpFAoGAY7U8\nQhfUHwGaK4DTyTszlw+9ZEM2NlmIN63OF0JbEh5Xj7WKtgwxXJmInfR1n67rpU3z\n0tMzIUdHerw6Mc/qMIJ01+ld7RJkbOTTyJ93sJ8AXtWdLS6LEw/H9oZ+MdrSla5Z\nyN8E0+QX92FapBxeakO5lotzog0AtgYntEIsa4kCgYBKafBvWaUhkQFd6iBwC2Ey\neOw6h8WmoH5fSf7P7gxm1ab0l2cqJH5zOcCU2deHIUt64xXVjJF5f1iUq+DRbG2t\nwRTESJ/bPai6PEwYSGf+YLuWNtfhf3euaJGiltb/411BOaMwvmWsIlHYZkOr79wR\nZjvANzRbRj8zarjarXdl6w==\n-----END PRIVATE KEY-----\n"
# Replit / deployment specific overrides (optional)
REPLIT_DEV_DOMAIN=
REPLIT_DOMAIN=
REPLIT_DOMAINS=
REPLIT_CLUSTER=
SECRETS_ENC_KEY=6jAOpCm+zbe638yomIEwEzs/CD6IU58LtN6i53lgNJk=
