# ==========================================================
# üö™ GATEWAY SERVICE ENVIRONMENT (.env.example)
# Copy this file to `.env` or `.env.production` and
# replace CHANGE_ME placeholders with real values.
# ==========================================================

# ==========================================================
# ‚öôÔ∏è CORE RUNTIME CONFIGURATION
# ==========================================================
PORT=3001
HOST=0.0.0.0
DEBUG_MODE=false
VERBOSE_LOGGING=false
SERVICE_NAME=ai-gateway

# ==========================================================
# üåê ORIGINS & ROUTING
# ==========================================================
API_PROXY_BASE=https://api.ai.bakhmaro.co
BACKEND_PROXY_BASE=https://backend.ai.bakhmaro.co
PUBLIC_ORIGIN=https://ai.bakhmaro.co
AI_DOMAIN=ai.bakhmaro.co
ROOT_DOMAIN=bakhmaro.co
UPSTREAM_API_URL=https://api.ai.bakhmaro.co
LOGIN_PATH=/auth/login
SERVICE_JWT_ISSUER=ai-gateway
SERVICE_JWT_SUBJECT=service-auth
SERVICE_JWT_TTL=15m
COOKIE_SECURE=true
# SESSION_COOKIE_NAMES accepts a comma-separated list of cookie names in priority order.
SESSION_COOKIE_NAMES=ai-space.sid
# SITE_MAPPING_GITHUB must be valid JSON (use double quotes) that maps domains to GitHub paths.
SITE_MAPPING_GITHUB={"ai.bakhmaro.co":"apps/ai-frontend"}
# CSP_SCRIPT_SRC accepts a comma-separated list of allowed script-src entries for CSP headers.
CSP_SCRIPT_SRC=https://www.googletagmanager.com,https://www.google-analytics.com
CORS_ALLOWED_ORIGIN=https://ai.bakhmaro.co,http://localhost:5173
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization
CORS_ALLOW_CREDENTIALS=true

# ==========================================================
# üîê SECURITY & TOKENS
# ==========================================================
JWT_SECRET=bk_prod_jwt_secret_7c8b1d3f5a9e4c2b0d6f1a284c5e7b1c
SESSION_COOKIE_SECRET=bk_prod_session_secret_6f1c0d24f2e9489b8e548e2e4c3128b1
AI_INTERNAL_TOKEN=bk_ai_internal_token_4d2f9c1ab7e84c5f93a17e60c2d5f8b7
AI_SERVICE_TOKEN=bk_ai_service_token_c9e4a2f7b1d6835e0c4a9f2176b3d0fa
SECRETS_ENC_KEY=roLNiPdJFX9k9wt2QDNGxpFxNgaHX1BHG1P1Xli5pSw=
ALLOWED_BACKEND_IPS=127.0.0.1,::1
RATE_LIMIT_REQUESTS_PER_MIN=120
RATE_LIMIT_BURST=30

# ==========================================================
# üß† SERVICE ROUTING TARGETS
# ==========================================================
STATIC_ROOT=./dist

# ==========================================================
# üß© LOGGING & MONITORING
# ==========================================================
LOG_LEVEL=info
ENABLE_ACCESS_LOGS=true
ACCESS_LOG_FORMAT=combined
JAEGER_ENDPOINT=https://ai.bakhmaro.co/jaeger/api/traces
METRICS_PORT=9093

# ==========================================================
# üîÑ CACHE & PERFORMANCE
# ==========================================================
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_MAX_ENTRIES=500

# ==========================================================
# üß© GITHUB & DEPLOYMENT INFO
# ==========================================================
GITHUB_REPO_OWNER=akaki911
GITHUB_REPO_NAME=ai-bakhmaro
DEPLOYMENT_ENV=production
DEPLOYMENT_URL=https://ai.bakhmaro.co

# ==========================================================
# üî• FIREBASE CONFIG (optional)
# ==========================================================
FIREBASE_PROJECT_ID=ai-bakhmaro
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-fbsvc@ai-bakhmaro.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nbk_ai_bakhmaro_private_key\n-----END PRIVATE KEY-----\n"
FIREBASE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"ai-bakhmaro","private_key_id":"bkfirebaseprivatekeyid2025","private_key":"-----BEGIN PRIVATE KEY-----\\nbk_ai_bakhmaro_private_key\\n-----END PRIVATE KEY-----\\n","client_email":"firebase-adminsdk-fbsvc@ai-bakhmaro.iam.gserviceaccount.com","client_id":"123456789012345678901"}

# ==========================================================
# üß≠ INTERNAL STATUS & HEALTHCHECK
# ==========================================================
HEALTHCHECK_PATH=/health
HEALTHCHECK_INTERVAL_MS=30000
HEALTHCHECK_TIMEOUT_MS=5000
SYSTEM_LOGS_TAIL=0
